<section class="flex-1 bg-white dark:bg-gray-800 border rounded-xl shadow p-8 space-y-12">

    <!-- ================================================= -->
    <!-- A. PERSONAL / HR -->
    <!-- ================================================= -->
    <section :class="sectionClass('personal')" class="p-6 rounded-xl border space-y-10">

      <h2 class="text-xl font-semibold text-primary">
        Personalabteilung
      </h2>

      <!-- Stammdaten -->
      <div>
        <h3 class="font-semibold mb-4">Stammdaten</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

          <div>
            <label>Vorname *</label>
            <input x-model="p.first_name" :class="fieldClass('first_name')" class="input">
          </div>

          <div>
            <label>Nachname *</label>
            <input x-model="p.last_name" :class="fieldClass('last_name')" class="input">
          </div>

          <div>
            <label>Titel *</label>
            <input x-model="p.title" :class="fieldClass('title')" class="input">
          </div>

          <div>
            <label>Eintrittsdatum *</label>
            <input type="date" x-model="p.start_date" :class="fieldClass('start_date')" class="input">
          </div>

          <div class="md:col-span-2">
            <label>Privatadresse *</label>
            <textarea x-model="p.private_address" :class="fieldClass('private_address')" class="input h-24"></textarea>
          </div>

          <div>
            <label>Homeoffice *</label>
            <select x-model="p.homeoffice" :class="fieldClass('homeoffice')" class="input">
              <option value="">Bitte wählen</option>
              <option>Ja</option>
              <option>Lt. Vertrag</option>
              <option>Nein</option>
            </select>
          </div>

        </div>
      </div>

      <!-- Organisation -->
      <div>
        <h3 class="font-semibold mb-4">Organisation</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

          <div>
            <label>Abteilung *</label>
            <input x-model="p.department" :class="fieldClass('department')" class="input">
          </div>

          <div>
            <label>Kostenstelle *</label>
            <input x-model="p.cost_center" :class="fieldClass('cost_center')" class="input">
          </div>

          <div>
            <label>Niederlassung *</label>
            <input x-model="p.location" :class="fieldClass('location')" class="input">
          </div>

          <div>
            <label>Firma lt. Arbeitsvertrag *</label>
                <select x-model="p.contract_company" :class="fieldClass('contract_company')">
                  <option value="">Bitte wählen</option>

                  <template x-for="company in companies" :key="company">
                    <option :value="company" x-text="company"></option>
                  </template>
                </select>
          </div>

        </div>
      </div>

      <!-- Beziehungen -->
      <div>
        <h3 class="font-semibold mb-4">Beziehungen</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

          {% set label = "Vorgesetzter (HR) *" %}
          {% set field_id = "supervisor_hr_id" %}
          {% set field_name = "supervisor_hr_name" %}
          {% set initial_id = "" %}
          {% set initial_name = "" %}
          {% include "components/user-dropdown.html" %}

          {% set label = "Ansprechpartner für Rückfragen *" %}
          {% set field_id = "contact_person_id" %}
          {% set field_name = "contact_person_name" %}
          {% set initial_id = "" %}
          {% set initial_name = "" %}
          {% include "components/user-dropdown.html" %}

        </div>
      </div>

      <!-- Sonstiges -->
      <div>
        <h3 class="font-semibold mb-4">Sonstiges</h3>
        <textarea x-model="p.notes" class="input h-24"></textarea>
      </div>

    </section>

    <!-- ================================================= -->
    <!-- B. ALLGEMEINES AUFTRETEN -->
    <!-- ================================================= -->
    <section class="p-6 rounded-xl border space-y-6">
      <h2 class="text-xl font-semibold">Allgemein</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label>Firma (Signatur/Webseite)</label>
            <select x-model="a.appearance_company" class="input">
              <option value="">–</option>

              <template x-for="company in companies" :key="company">
                <option :value="company" x-text="company"></option>
              </template>
            </select>
        </div>

        <div>
          <label>Adresse (Signatur/Webseite)</label>
          <textarea x-model="a.appearance_address" class="input h-20"></textarea>
        </div>
      </div>
    </section>

<!-- ================================================= -->
<!-- C. IT / SYSTEMDATEN -->
<!-- ================================================= -->
<section class="p-6 rounded-xl border space-y-12">

  <h2 class="text-xl font-semibold">
    IT / Systemdaten
  </h2>

  <!-- ================= C0. GRUNDDATEN ================= -->
  <div>
    <h3 class="font-semibold mb-4">Grunddaten</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <label class="font-medium">Haupt-Kostenstelle</label>
        <input
          x-model="it.main_cost_center"
          inputmode="numeric"
          pattern="[0-9]*"
          class="input"
        >
      </div>

      <div>
        <label class="font-medium">Arbeitsbeginn / Eintrittsdatum (IT)</label>
        <input
          type="date"
          x-model="it.work_start"
          class="input"
        >
      </div>

    </div>
  </div>

  <!-- ================= C1. SIGNATURDATEN ================= -->
  <div>
    <h3 class="font-semibold mb-4">E-Mail-Signaturdaten</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <label class="font-medium">Titel (Signatur)</label>
        <input x-model="it.signature.title" class="input">
      </div>

      <div>
        <label class="font-medium">Straße</label>
        <input x-model="it.signature.street" class="input">
      </div>

      <div>
        <label class="font-medium">Postleitzahl</label>
        <input
          x-model="it.signature.zip"
          pattern="[0-9]{5}"
          placeholder="PLZ"
          class="input"
        >
      </div>

      <div>
        <label class="font-medium">Ort</label>
        <input x-model="it.signature.city" class="input">
      </div>

      <div>
        <label class="font-medium">Handy</label>
        <div class="flex">
            <span
              class="inline-flex items-center px-3 border border-r-0 rounded-l-md text-sm
                     bg-[var(--field-bg)] text-[var(--text)] border-[var(--border)]">
              +49
            </span>

          <input
            x-model="it.signature.mobile"
            inputmode="numeric"
            class="input rounded-l-none"
          >
        </div>
      </div>

      <div>
        <label class="font-medium">Telefon</label>
        <input
          x-model="it.signature.phone"
          inputmode="numeric"
          class="input"
        >
      </div>

    </div>
  </div>

  <!-- ================= C2. TIMEBUTLER ================= -->
  <div>
    <h3 class="font-semibold mb-4">Timebutler-Daten</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <label class="font-medium">Urlaubsanspruch pro Jahr</label>
        <input x-model="it.timebutler.vacation_year" inputmode="numeric" class="input">
      </div>

      <div>
        <label class="font-medium">Urlaubsanspruch im Einstellungsjahr</label>
        <input x-model="it.timebutler.vacation_start_year" inputmode="numeric" class="input">
      </div>

      <div>
        <label class="font-medium">Feiertagsregelung</label>
        <select x-model="it.timebutler.holiday_rule" class="input">
          <option value="">Bitte wählen</option>
          <option>Baden-Württemberg</option>
          <option>Bayern</option>
          <option>Berlin</option>
          <option>Brandenburg</option>
          <option>Bremen</option>
          <option>Hamburg</option>
          <option>Hessen</option>
          <option>Mecklenburg-Vorpommern</option>
          <option>Niedersachsen</option>
          <option>Nordrhein-Westfalen</option>
          <option>Rheinland-Pfalz</option>
          <option>Saarland</option>
          <option>Sachsen</option>
          <option>Sachsen-Anhalt</option>
          <option>Schleswig-Holstein</option>
          <option>Thüringen</option>
        </select>
      </div>

      <div>
        <label class="font-medium">Personalnummer (DATEV)</label>
        <input x-model="it.timebutler.personal_number" class="input">
      </div>

      <div class="md:col-span-2">
        {% set label = "Vorgesetzter (Timebutler, optional)" %}
        {% set field_id = "tb_supervisor_id" %}
        {% set field_name = "tb_supervisor_name" %}
        {% set initial_id = "" %}
        {% set initial_name = "" %}
        {% include "components/user-dropdown.html" %}
      </div>

    </div>
  </div>

  <!-- ================= C3. DATEV & SYSTEME ================= -->
  <div>
    <h3 class="font-semibold mb-4">DATEV / weitere Systeme</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <label class="font-medium">DATEV-Anwender?</label>
        <select x-model="it.datev.user" class="input">
          <option value="">–</option>
          <option>Ja</option>
          <option>Nein</option>
        </select>
      </div>

      <div>
        <label class="font-medium">Personalnummer festlegen</label>
        <input x-model="it.datev.personal_number" class="input">
      </div>

      <div class="md:col-span-2">
        <label class="font-medium">Weitere Systeme</label>
        <textarea
          x-model="it.other_systems"
          placeholder="z. B. PersoPro, TJ, Zoove …"
          class="input h-24"
        ></textarea>
      </div>

    </div>
  </div>

  <!-- ================= C4. POSTFÄCHER ================= -->
  <div>
    <h3 class="font-semibold mb-4">Postfächer & Kostenstellen</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <label class="font-medium">Zusätzliche Postfächer?</label>
        <select x-model="it.mailboxes.additional" class="input">
          <option value="">–</option>
          <option>Ja</option>
          <option>Nein</option>
        </select>
      </div>

      <template x-if="it.mailboxes.additional === 'Ja'">
        <div class="md:col-span-2">
          <label class="font-medium">Details</label>
          <textarea x-model="it.mailboxes.notes" class="input h-24"></textarea>
        </div>
      </template>

      <div class="md:col-span-2">
        <label class="font-medium">Zusätzliche Kostenstellen / Niederlassungen</label>
        <textarea x-model="it.additional_cost_centers" class="input h-24"></textarea>
      </div>

    </div>
  </div>

</section>


    <!-- ================================================= -->
    <!-- D. FUHRPARK -->
    <!-- ================================================= -->
    <section class="p-6 rounded-xl border space-y-6">
      <h2 class="text-xl font-semibold">Fuhrpark</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label>Dienstwagen</label>
          <select x-model="f.car" class="input">
            <option value="">–</option>
            <option>Ja</option>
            <option>Nein</option>
          </select>
        </div>

        <template x-if="f.car === 'Ja'">
          <div>
            <label>Fahrzeugklasse</label>
            <select x-model="f.car_class" class="input">
              <option>A</option><option>B</option><option>C</option><option>D</option>
            </select>
          </div>
        </template>

        <template x-if="f.car === 'Ja'">
          <div>
            <label>Benötigt ab</label>
            <input type="date" x-model="f.car_from" class="input">
          </div>
        </template>

      </div>
    </section>

  </section>