<div class="grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-8">

  <!-- ================================================= -->
  <!-- LINKE SPALTE â€“ FELDER -->
  <!-- ================================================= -->
  <div class="space-y-10">

    <!-- ================= MITARBEITERTYP ================= -->
    <div class="space-y-4">
      <h3 class="font-semibold">ðŸ‘¤ Mitarbeitertyp</h3>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <label class="flex items-center gap-2 p-3 border rounded-lg cursor-pointer">
          <input type="radio" value="Bestandsmitarbeiter" x-model="data.mitarbeiterTyp">
          Bestandsmitarbeiter
        </label>

        <label class="flex items-center gap-2 p-3 border rounded-lg cursor-pointer">
          <input type="radio" value="Neuer Mitarbeiter" x-model="data.mitarbeiterTyp">
          Neuer Mitarbeiter
        </label>
      </div>
    </div>

    <!-- ================= BASISDATEN ================= -->
    <div class="space-y-6">
      <h3 class="font-semibold">ðŸ“‡ Basisdaten</h3>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <div>
          <label>Vorname</label>
          <input class="input" x-model="data.vorname">
        </div>

        <div>
          <label>Nachname</label>
          <input class="input" x-model="data.nachname">
        </div>

        <div>
          <label>Kostenstelle</label>
          <input
            class="input"
            inputmode="numeric"
            x-model="data.kostenstelle"
            @input="data.kostenstelle = (data.kostenstelle || '').replace(/\D/g,'')"
          >
        </div>

        <div>
          <label>Firma</label>

          <template x-if="companiesLoading">
            <div class="input text-gray-400">Firmen werden geladen â€¦</div>
          </template>

          <template x-if="!companiesLoading && companiesError">
            <input class="input" x-model="data.firma" placeholder="Firma manuell eingeben">
          </template>

          <template x-if="!companiesLoading && !companiesError">
            <select class="input" x-model="data.firma">
              <option value="">Bitte wÃ¤hlen</option>
              <template x-for="c in companies" :key="c">
                <option :value="c" x-text="c"></option>
              </template>
            </select>
          </template>
        </div>

        <!-- Adresse -->
        <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-6 gap-4">
          <div class="md:col-span-3">
            <label>StraÃŸe</label>
            <input class="input" x-model="data.addr_strasse">
          </div>

          <div>
            <label>Nr.</label>
            <input class="input" x-model="data.addr_nr">
          </div>

          <div class="md:col-span-2">
            <label>PLZ</label>
            <input
              class="input"
              x-model="data.addr_plz"
              inputmode="numeric"
              @input="data.addr_plz = (data.addr_plz || '').replace(/\D/g,'').slice(0,5)"
            >
          </div>

          <div class="md:col-span-3">
            <label>Stadt</label>
            <input class="input" x-model="data.addr_stadt">
          </div>

          <div class="md:col-span-3">
            <label>Name am TÃ¼rschild</label>
            <input class="input" x-model="data.addr_tuerschild">
          </div>
        </div>

        <div>
          <label>Lieferung bis</label>
          <input type="date" class="input" x-model="data.lieferungBis">
        </div>

      </div>
    </div>

    <!-- ================= BESTANDSMITARBEITER ================= -->
    <div class="space-y-6" x-show="data.mitarbeiterTyp === 'Bestandsmitarbeiter'">
      <h3 class="font-semibold">ðŸ§° Hardware & Grund</h3>

      <div class="grid grid-cols-2 gap-3">
        <label @mouseenter="hover('Notebook')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.Notebook"> Notebook
        </label>
        <label @mouseenter="hover('MiniPC')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.MiniPC"> Mini-PC
        </label>
        <label @mouseenter="hover('Dockingstation')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.Dockingstation"> Dockingstation
        </label>
        <label @mouseenter="hover('MausUndTastatur')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.MausUndTastatur"> Maus & Tastatur
        </label>
        <label @mouseenter="hover('Headset')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.Headset"> Headset
        </label>
        <label @mouseenter="hover('Webcam')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.Webcam"> Webcam
        </label>
        <label @mouseenter="hover('HandyUndSim')" @mouseleave="hover(null)">
          <input type="checkbox" x-model="data.artikel.HandyUndSim"> Handy & SIM
        </label>
      </div>

      <div>
        <label>
          <input type="checkbox" x-model="data.monitor.benoetigt"> Monitor benÃ¶tigt
        </label>

        <div x-show="data.monitor.benoetigt" class="mt-2">
          <select class="input w-32" x-model.number="data.monitor.anzahl">
            <option :value="1">1</option>
            <option :value="2">2</option>
          </select>
        </div>
      </div>

      <div>
        <label>Grund der Neubestellung</label>
        <textarea class="input h-24" x-model="data.grundBestellung"></textarea>
      </div>
    </div>

    <!-- ================= NEUER MITARBEITER ================= -->
    <div class="space-y-6" x-show="data.mitarbeiterTyp === 'Neuer Mitarbeiter'">
      <h3 class="font-semibold">ðŸ’» Hardwareausstattung</h3>

      <label>
        <input type="checkbox" x-model="data.monitor.benoetigt"> Monitor benÃ¶tigt
      </label>

      <div x-show="data.monitor.benoetigt">
        <select class="input w-32" x-model.number="data.monitor.anzahl">
          <option :value="1">1</option>
          <option :value="2">2</option>
        </select>
      </div>

      <div>
        <label>GerÃ¤tetyp</label>
        <label @mouseenter="hover('Notebook')" @mouseleave="hover(null)">
          <input type="radio" value="Laptop" x-model="data.geraet"> Laptop
        </label>
        <label @mouseenter="hover('MiniPC')" @mouseleave="hover(null)">
          <input type="radio" value="MiniPC" x-model="data.geraet"> Mini-PC
        </label>
      </div>

      <div>
        <label>
          <input type="checkbox" x-model="data.artikel.Dockingstation"> Dockingstation bestellen
        </label>
        <label class="ml-4">
          <input type="checkbox" x-model="data.dockingVorhanden"> Docking vorhanden
        </label>
      </div>

      <div class="grid grid-cols-2 gap-3">
        <label><input type="checkbox" x-model="data.artikel.MausUndTastatur"> Maus & Tastatur</label>
        <label><input type="checkbox" x-model="data.artikel.Headset"> Headset</label>
        <label><input type="checkbox" x-model="data.artikel.Webcam"> Webcam</label>
        <label><input type="checkbox" x-model="data.artikel.HandyUndSim"> Handy & SIM</label>
      </div>

      <div>
        <label>Bemerkung</label>
        <textarea class="input h-24" x-model="data.bemerkung"></textarea>
      </div>
    </div>

  </div>

  <!-- ================================================= -->
  <!-- RECHTE SPALTE â€“ BILDVORSCHAU -->
  <!-- ================================================= -->
  <aside class="hidden lg:block">
    <div class="sticky top-6">
      <div class="border rounded-xl p-4 h-[320px] flex items-center justify-center">
        <template x-if="previewUrls.length">
          <img
            :src="previewUrls[previewIdx]"
            class="max-h-full object-contain"
            @error="tryNextPreview()"
          >
        </template>

        <template x-if="!previewUrls.length">
          <span class="text-gray-400 text-sm">Vorschau</span>
        </template>
      </div>
    </div>
  </aside>

</div>
